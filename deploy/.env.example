# Compose-level variables
REGISTRY_IMAGE=your-dockerhub-username/book-inventories:latest

# App
NODE_ENV=production
PORT=3333

# Neon Postgres (external DB)
# Use the DIRECT connection string from Neon (not pooled), typically looks like:
# postgresql://<user>:<password>@<neon_hostname>/<db>?sslmode=require
DATABASE_URL=postgresql://user:password@your-neon-hosting-url/dbname?sslmode=require

# Auth (set strong secrets in your real .env)
JWT_SECRET=replace-with-strong-secret
JWT_EXPIRATION=1d
JWT_REFRESH_SECRET=replace-with-strong-refresh-secret
JWT_REFRESH_EXPIRATION=7d

# Nginx / SSL
# Domain for reverse proxy. Use '_' to match any host if you don't have a domain yet.
SERVER_NAME=api.example.com
# Set to true to attempt automatic HTTPS via Certbot (requires DNS pointing to VPS)
ENABLE_SSL=false
# Email for Certbot registration
CERTBOT_EMAIL=admin@example.com

# Nginx rate limiting (optional; defaults shown)
# Connection limit per IP
LIMIT_CONN_ZONE_NAME=addr
LIMIT_CONN_ZONE_SIZE=10m
LIMIT_CONN_PER_IP=20

# Request rate limit (per IP)
RATE_LIMIT_ZONE_NAME=api_limit
RATE_LIMIT_ZONE_SIZE=10m
RATE_LIMIT_REQ_RATE=10r/s
RATE_LIMIT_BURST=20
# false => nodelay (strict), true => allow delayed queueing within burst
RATE_LIMIT_DELAYED=false